(()=>{let e,t=!1;chrome.storage.local.get(["adress"],(function(t){e=t}));const o=/https:\/\/api\.theheist\.game\/nft\/robbers\/wallet-top-performing\/([\w]+)/;chrome.webRequest.onCompleted.addListener((t=>{const r=t.url.match(o);r&&r[1]&&(e=r[1],console.log(e),chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(t[0].id,{type:"dataFromBackground",adress:e})})))}),{urls:["*://*.theheist.game/*"]}),chrome.runtime.onMessage.addListener((function(e,o,r){if("openNotifHTML"===e.action&&(t||(t=!0,chrome.windows.getCurrent((function(e){var o=e.left+(e.width-388),r=e.top;chrome.windows.create({url:chrome.runtime.getURL("./public/notification.html"),type:"popup",width:388,height:568,top:r,left:o}),setTimeout((()=>{t=!1}),1e3)}))),chrome.runtime.onMessage.addListener((function(e,t,o){if("walletAdress"===e.type){const t=e.data;chrome.runtime.sendMessage({type:"notification",adress:t})}}))),"trackAuction"===e.action&&!t){t=!0,setTimeout((()=>{t=!1}),1e3);const o={plotId:e.plotId,number:e.number,userWallet:e.userWallet};chrome.windows.getCurrent((function(e){var t=e.left+(e.width-388),r=e.top;chrome.windows.create({url:chrome.runtime.getURL("./public/trackAuctionPage.html"),type:"popup",width:388,height:568,top:r,left:t}),chrome.runtime.onMessage.addListener(((e,t,r)=>{"requestData"===e.type&&r(o)}))}))}}))})();