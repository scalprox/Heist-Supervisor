(()=>{let e,t=!1;chrome.storage.local.get(["adress"],(function(t){e=t}));const s=/https:\/\/api\.theheist\.game\/nft\/robbers\/wallet-top-performing\/([\w]+)/;chrome.webRequest.onCompleted.addListener((t=>{const o=t.url.match(s);t.url.match("https://api.theheist.game/auth/me")&&(console.log(t.statusCode),200==t.statusCode&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{type:"userAuth"})}))),o&&o[1]&&(e=o[1],console.log(e),chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(t[0].id,{type:"adressFromBack",adress:e})})))}),{urls:["*://*.theheist.game/*"]}),chrome.runtime.onMessage.addListener((function(e,s,o){if("dataFromWebPage"===e.action){const t=e.userData.uid,s=e.userData.hash;chrome.storage.sync.set({uid:t}),chrome.storage.sync.set({hash:s})}"openNotifHTML"===e.action&&(t||(t=!0,chrome.windows.getCurrent((function(e){var s=e.left+(e.width-388),o=e.top;chrome.windows.create({url:chrome.runtime.getURL("./public/notification.html"),type:"popup",width:388,height:568,top:o,left:s}),setTimeout((()=>{t=!1}),1e3)}))),chrome.runtime.onMessage.addListener((function(e,t,s){if("walletAdress"===e.type){const t=e.data;chrome.runtime.sendMessage({type:"notification",adress:t})}})))}))})();