(()=>{let e,t,n,i,l,r,a,s,c,o,d,h,m,u,p,v,f,_,g,y,E,b,C,I,w,M,k,x,T,q=!1,N=!1,S=!1,L=!1,O=!1,D=!1;function A(e){const t=document.querySelectorAll("input[placeholder], textarea[placeholder]");for(let n of t)if(n.placeholder===e)return n;return null}function $(e){const t=document.querySelectorAll("button, h3, h2, h1, span, div");for(let n of t)if(n.textContent.trim()===e)return n;return null}function H(){window.addEventListener("getAdress",(function(e){if(e.detail){T=e.detail;const t=$("TRADE"),n=t.parentElement,i=t.className;if(document.getElementById("sendInvite"))document.getElementById("sendInvite").value=T;else{const e=document.createElement("button");e.id="sendInvite",e.className=i,e.textContent="Invite To Dm",e.style.marginBottom="-16px",e.value=T,n.insertBefore(e,n.firstChild)}document.getElementById("sendInvite").addEventListener("click",(()=>{localStorage.setItem("adressToInvite",T),window.postMessage({type:"openInvitePopup"},"*")}))}}))}function B(){const e=document.getElementById("chat-history-bottom-position").parentElement.children[2].children[0].children[0].children[0].parentElement.parentElement;for(let t=0;t<e.children.length;t++)e.children[t].children[0].addEventListener("click",(()=>{H()}),{once:!0})}function P(){b=e.children[0].children[2].children[1],E=e.children[0].children[0].children[1];const t=$("Available:");if(r=t.parentElement.parentElement.firstElementChild,setTimeout((()=>{l=t.firstElementChild.firstElementChild,i=l.getAttribute("aria-label")}),100),b){let e=b.getAttribute("aria-label").match(/([\d,]+)/);e&&e[1]}if(E){let e=E.getAttribute("aria-label").match(/([\d,]+)/);e&&e[1]}setTimeout((()=>{if(i.includes("COCO")){S=!0;const e=i.match(/(\d|,)+/)[0];C=e.replace(/,/g,"."),w=C}if(i.includes("NANA")){L=!0;const e=i.match(/(\d|,)+/)[0];I=e.replace(/,/g,"."),w=I}}),150)}function F(){if(!0===O){o=document.querySelector("#STATS"),h=document.querySelector("#percentChimp"),u=document.querySelector("#percentTang");const e=$("Event table");try{v=e.parentElement.parentElement.parentElement.parentElement.children[0].children[0].children[0].children[0],v&&v.addEventListener("click",(function e(){if(!N){let t=setInterval((()=>{$("Location Stats")&&(clearInterval(t),F())}),50);v.removeEventListener("click",e),N=!0}}));const t=$("Location Stats");p=t.parentElement.parentElement.children[2],f=p.children[3].children[1],g=p.children[1].children[1],_=p.children[0].children[1];const n=_.className,i=p.children[0].children[2].className;if(_){const e=f.textContent,t=1e3*parseInt(e);let l=g.textContent,r=_.textContent,v=parseInt(l),E=parseInt(r);s=Math.round(v/(v+E)*100),a=Math.round(E/(v+E)*100),y=Math.floor(t/(v+E)),u?u.innerHTML=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n      <span class="${n}">${s}%</span>\n      <span class="${i}">Of Tangs</span>  \n`:(m=document.createElement("li"),m.className="_asideListItem_13mm0_67",m.id="percentTang",m.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${n}">${s}%</span>\n        <span class="${i}">Of Tangs</span>  \n        `),h?h.innerHTML=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n      <span class="${n}">${a}%</span>\n      <span class="${i}">Of Chimps</span>  \n`:(d=document.createElement("li"),d.className="_asideListItem_13mm0_67",d.id="percentChimp",d.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${n}">${a}%</span>\n        <span class="${i}">Of Chimps</span>  \n        `),o?o.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${n}">${y}</span>\n        <span class="${i}">$COCO per TANG/CHIMP</span>\n          \n\n      `:(c=document.createElement("li"),c.className="_asideListItem_13mm0_67",c.id="STATS",c.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${n}">${y}</span>\n        <span class="${i}">$COCO per TANG/CHIMP</span>\n      \n      `),p&&(p.appendChild(c),p.appendChild(d),p.appendChild(m)),N=!1}}catch(e){}}}function R(){q=!0,P(),!0===S&&(l.textContent=w,S=!1),!0===L&&(l.textContent=w,L=!1),r.addEventListener("click",(()=>{!0===q&&P()}))}function G(){let e;const t=document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._socialContent_1tyqk_1._tabContent_75try_15 > div._main_1tyqk_169 > div._mainContent_1tyqk_241 > div._mainContentRight_1tyqk_249 > div._mintContent_1tyqk_258 > div._mintContentFooter_1tyqk_308");if(t){const n=document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._socialContent_1tyqk_1._tabContent_75try_15 > div._main_1tyqk_169 > div._mainContent_1tyqk_241 > div._mainContentRight_1tyqk_249 > div._mintContent_1tyqk_258 > div._mintContentFooter_1tyqk_308 > div:nth-child(1) > div"),i=document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._socialContent_1tyqk_1._tabContent_75try_15 > div._main_1tyqk_169 > div._mainContent_1tyqk_241 > div._mainContentRight_1tyqk_249 > div._mintContent_1tyqk_258 > div._mintContentHeader_1tyqk_287 > div:nth-child(2) > div");e=parseFloat(i.textContent)/parseFloat(n.textContent)*100;const l=document.createElement("div");l.className="_mintContentHeaderStat_1tyqk_337",l.innerHTML=`\n    <p class="_mintContentLabel_1tyqk_378">chance per contract</p>\n    <div class="_mintContentHeaderStatValue_1tyqk_398">${e.toFixed(2)}%</div>\n    `,t.insertBefore(l,t.children[1]),document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._navigation_75try_27 > ul > li:nth-child(1)").addEventListener("click",(()=>{setTimeout(G,500),setTimeout(j,500),setTimeout(F,500)}),{once:!0})}}function j(){if(!0===O){const e=$("ORANGUTANS COMING").parentElement.parentElement.parentElement.children[1].children[1].children[1].children[1].firstElementChild,t=e.children[0],n=e.children[1],i=t.children[0].children[0],l=n.children[0].children[0],r=i.children[1],a=l.children[1],s=r.className,c=t.children[0].children[3].children[0].children[0].children[1],o=n.children[0].children[3].children[0].children[0].children[1];if(r){let e=r.textContent.match(/\d+/),t=parseInt(e),n=a.textContent.match(/\d+/),i=parseInt(n),l=parseFloat(c.textContent),s=i/parseFloat(o.textContent)*100;k=(t/l*100).toFixed(3),x=s.toFixed(3)}if(i&&!1===D){const e=document.createElement("div");e.className=s,e.id="raffle1",e.textContent=k+"% chance per ticket",document.getElementById("raffle1")||i.appendChild(e);const t=document.createElement("div");t.className=s,t.id="raffle2",t.textContent=x+"% chance per ticket",document.getElementById("raffle2")||l.appendChild(t)}}}function U(){const e=document.querySelector("#notification-scroller > div > div").children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{J(n[t].walletId,n[t].wallet.username)}))}function J(e,t){$("Hub").click();let n=setInterval((()=>{const i=$("Player search").firstElementChild;if(i){clearInterval(n),i.click();let l=setInterval((()=>{const n=A("Player Search");if(n){clearInterval(l),Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(n,e),n.dispatchEvent(new Event("input",{bubbles:!0}));let i=setInterval((()=>{const e=document.querySelector("#player-scroller > div.infinite-scroll-component__outerdiv > div > div > div");e&&e.textContent==t&&(clearInterval(i),e.click(),H())}),30)}}),30)}}),30)}function X(e){const t=e.className.split(" "),n=/_left/;let i=0;return t.forEach((e=>{n.test(e)&&i++})),i}function V(e){e&&e.addEventListener("click",(()=>{let e=setInterval((()=>{let t;const n=document.getElementById("gang-scroller"),i=$("MEMBERS");let l;if(n)l=$("VIEW GANG").nextElementSibling,t=n.parentElement.parentElement;else if(i){let e=$("BACK").parentElement.parentElement.children[1].firstElementChild;l=e,t=i.parentElement.parentElement.parentElement.parentElement}if(i){clearInterval(e),K(t,l);const n={attributes:!0,attributeFilter:["class"]};new MutationObserver(((e,n)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&2===X(t)&&K(t,l)}))})).observe(t,n)}else if(n){clearInterval(e);const n={attributes:!0,attributeFilter:["class"]};new MutationObserver(((e,n)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&2===X(t)&&K(t,l)}))})).observe(t,n)}}),50)}),{once:!0})}function K(e,n){let i=setInterval((()=>{const l=e.children[0].children[0].children[1];if(l){let e=l.firstElementChild,r=l.children[1].className;e&&e.className!=r&&l.removeChild(l.children[0]),clearInterval(i);let a=0;for(let e=0;e<l.children.length;e++){l.children[e].style.cursor="pointer",a=e,"Left"===t.memberships[e].status&&a++;let i=l.children[e],r=t.memberships[a];i.addEventListener("click",(()=>{W(r.wallet.username,r.walletId,n)}))}}}),300)}function W(e,t,n){let i=setInterval((()=>{if(n){clearInterval(i),n.click();let l=setInterval((()=>{const n=$("Hub");if(n){clearInterval(l),n.click();let i=setInterval((()=>{const n=$("Player search").firstElementChild;if(n){clearInterval(i),n.click();let l=setInterval((()=>{const n=A("Player Search");if(n){clearInterval(l),Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(n,t),n.dispatchEvent(new Event("input",{bubbles:!0}));let i=setInterval((()=>{const t=document.querySelector("#player-scroller > div.infinite-scroll-component__outerdiv > div > div > div");t&&t.textContent==e&&(clearInterval(i),t.click(),H())}),30)}}),30)}}),30)}}),30)}}),30)}!function(){let i=setInterval((()=>{let e=$("Gangs");e&&(clearInterval(i),V(e))}),50),l=setInterval((()=>{let t=$("City"),n=$("Hub");try{const i=t.parentElement.children[1].className;($("Safehouse")||i.includes("_toggle--active")&&n)&&(clearInterval(l),function(){const t=$("Gangs").parentElement.children[1].firstElementChild;e=t;new MutationObserver(((e,n)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&(t.className.includes("_button--black")?M=setInterval(R,300):(q=!1,clearInterval(M)))}))})).observe(t,{attributes:!0,attributeFilter:["class"]})}(),function(){const e=document.querySelector("#root"),t=new MutationObserver(((e,t)=>{for(const t of e)if("attributes"===t.type&&"aria-hidden"===t.attributeName)if("true"===t.target.getAttribute("aria-hidden")){O=!0;let e=setInterval((()=>{const t=$("Location Stats"),n=$("Blackmarket");if(t&&(clearInterval(e),setTimeout(F,700)),n){clearInterval(e);let t=setInterval((()=>{const e=$("ORANGUTANS COMING");if(e)try{e.parentElement.parentElement.parentElement.children[1].children[1].children[1].children[1].firstElementChild.firstElementChild&&(clearInterval(t),setTimeout(G,700),setTimeout(j,700))}catch(e){}}),50)}}),100)}else{const e=$("Gangs");setTimeout((()=>{V(e)}),700),O=!1}}));t.observe(e,{attributes:!0,attributeFilter:["aria-hidden"]})}())}catch(e){}}),50),r=setInterval((()=>{let e=$("Heist Chat");if(e){clearInterval(r);const t=e.parentElement.children[0],n={attributes:!0,attributeFilter:["class"]};new MutationObserver(((e,n)=>{for(const n of e)if("attributes"===n.type&&"class"===n.attributeName){const e=t.className;e.includes("undefined"),e.includes("undefined")||B()}})).observe(t,n)}}),50),a=setInterval((()=>{$("The heist game")&&(clearInterval(a),function(){var e=window.XMLHttpRequest;window.XMLHttpRequest=function(){let i=new e;return i.onreadystatechange=function(){4==i.readyState&&200==i.status&&(/https:\/\/api\.theheist\.game\/gang\/\d+$/.test(i.responseURL)&&(t=JSON.parse(i.responseText)),i.responseURL.includes("https://api.theheist.game/notification/history?offset=0&limit=10")&&(n=JSON.parse(i.responseText)),i.responseURL.includes("https://api.theheist.game/notification/history?offset=10&limit=10")&&(function(e){let t=Object.keys(n).length;e.forEach(((e,i)=>{n[t+i]=e}))}(JSON.parse(i.responseText)),setTimeout(U,1e3)))},i};const i=$("The heist game").parentElement.children[0].children[0];new MutationObserver(((e,t)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&i.className.includes("_active")&&setTimeout(U,1e3)}))})).observe(i,{attributes:!0,attributeFilter:["class"]})}(),function(){let e=new CustomEvent("notification");const t=$("The heist game").parentElement.children[0].children[1];let n=parseFloat(t.textContent);new MutationObserver((i=>{i.forEach((i=>{"childList"!==i.type&&"characterData"!==i.type||(n=parseFloat(t.textContent),n>0&&window.dispatchEvent(e))}))})).observe(t,{childList:!0,characterData:!0,subtree:!0})}())}),50)}(),document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper.Dialog_scrollPaper__BgbbA.css-ekeie0 > div > div"),document.querySelector("body > div.MuiDialog-root.location_root__6XsDH.MuiModal-root.css-126xj0f")})();