(()=>{let e,t,n,i,l,r,a,o,s,c,d,h,m,u,p,v,f,_,g,E,y,b,C,I,w,M,k,x,T,q=!1,N=!1,S=!1,L=!1,O=!1,D=!1;function A(e){const t=document.querySelectorAll("input[placeholder], textarea[placeholder]");for(let n of t)if(n.placeholder===e)return n;return null}function $(e){const t=document.querySelectorAll("button, h3, h2, h1, span, div");for(let n of t)if(n.textContent.trim()===e)return n;return null}function H(){const e=document.getElementById("chat-history-bottom-position").parentElement.children[2].children[0].children[0].children[0].parentElement.parentElement;for(let t=0;t<e.children.length;t++)e.children[t].children[0].addEventListener("click",(()=>{window.addEventListener("getAdress",(function(e){if(e.detail){T=e.detail;const n=$("TRADE"),i=n.parentElement,l=n.className;if(document.getElementById("sendInvite"))document.getElementById("sendInvite").value=T;else{const a=document.createElement("button");a.id="sendInvite",a.className=l,a.textContent="Invite To Dm",a.style.marginBottom="-16px",a.value=T,i.insertBefore(a,i.firstChild)}function t(){localStorage.setItem("adressToInvite",T),window.postMessage({type:"openInvitePopup"},"*")}const r=document.getElementById("sendInvite");r.removeEventListener("click",t),r.addEventListener("click",t,{once:!0})}}))}),{once:!0})}function B(){b=e.children[0].children[2].children[1],y=e.children[0].children[0].children[1];const t=$("Available:");if(r=t.parentElement.parentElement.firstElementChild,setTimeout((()=>{l=t.firstElementChild.firstElementChild,i=l.getAttribute("aria-label")}),100),b){let e=b.getAttribute("aria-label").match(/([\d,]+)/);e&&e[1]}if(y){let e=y.getAttribute("aria-label").match(/([\d,]+)/);e&&e[1]}setTimeout((()=>{if(i.includes("COCO")){S=!0;const e=i.match(/(\d|,)+/)[0];C=e.replace(/,/g,"."),w=C}if(i.includes("NANA")){L=!0;const e=i.match(/(\d|,)+/)[0];I=e.replace(/,/g,"."),w=I}}),150)}function P(){if(!0===O){c=document.querySelector("#STATS"),h=document.querySelector("#percentChimp"),u=document.querySelector("#percentTang");const e=$("Event table");v=e.parentElement.parentElement.parentElement.parentElement.children[0].children[0].children[0].children[0],v&&v.addEventListener("click",(function e(){if(!N){console.log("click");let t=setInterval((()=>{$("Location Stats")&&(clearInterval(t),P())}),50);v.removeEventListener("click",e),N=!0}}));const t=$("Location Stats");p=t.parentElement.parentElement.children[2],f=p.children[3].children[1],g=p.children[1].children[1],_=p.children[0].children[1];const n=_.className,i=p.children[0].children[2].className;if(_){const e=f.textContent,t=1e3*parseInt(e);let l=g.textContent,r=_.textContent,v=parseInt(l),y=parseInt(r);o=Math.round(v/(v+y)*100),a=Math.round(y/(v+y)*100),E=Math.floor(t/(v+y)),u?u.innerHTML=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n      <span class="${n}">${o}%</span>\n      <span class="${i}">Of Tangs</span>  \n`:(m=document.createElement("li"),m.className="_asideListItem_13mm0_67",m.id="percentTang",m.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${n}">${o}%</span>\n        <span class="${i}">Of Tangs</span>  \n        `),h?h.innerHTML=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n      <span class="${n}">${a}%</span>\n      <span class="${i}">Of Chimps</span>  \n`:(d=document.createElement("li"),d.className="_asideListItem_13mm0_67",d.id="percentChimp",d.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${n}">${a}%</span>\n        <span class="${i}">Of Chimps</span>  \n        `),c?c.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${n}">${E}</span>\n        <span class="${i}">$COCO per TANG/CHIMP</span>\n          \n\n      `:(s=document.createElement("li"),s.className="_asideListItem_13mm0_67",s.id="STATS",s.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${n}">${E}</span>\n        <span class="${i}">$COCO per TANG/CHIMP</span>\n      \n      `),p&&(p.appendChild(s),p.appendChild(d),p.appendChild(m)),N=!1}}}function F(){q=!0,B(),!0===S&&(l.textContent=w,S=!1),!0===L&&(l.textContent=w,L=!1),r.addEventListener("click",(()=>{!0===q&&B()}))}function R(){let e;const t=document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._socialContent_1tyqk_1._tabContent_75try_15 > div._main_1tyqk_169 > div._mainContent_1tyqk_241 > div._mainContentRight_1tyqk_249 > div._mintContent_1tyqk_258 > div._mintContentFooter_1tyqk_308");if(t){const n=document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._socialContent_1tyqk_1._tabContent_75try_15 > div._main_1tyqk_169 > div._mainContent_1tyqk_241 > div._mainContentRight_1tyqk_249 > div._mintContent_1tyqk_258 > div._mintContentFooter_1tyqk_308 > div:nth-child(1) > div"),i=document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._socialContent_1tyqk_1._tabContent_75try_15 > div._main_1tyqk_169 > div._mainContent_1tyqk_241 > div._mainContentRight_1tyqk_249 > div._mintContent_1tyqk_258 > div._mintContentHeader_1tyqk_287 > div:nth-child(2) > div");e=parseFloat(i.textContent)/parseFloat(n.textContent)*100;const l=document.createElement("div");l.className="_mintContentHeaderStat_1tyqk_337",l.innerHTML=`\n    <p class="_mintContentLabel_1tyqk_378">chance per contract</p>\n    <div class="_mintContentHeaderStatValue_1tyqk_398">${e.toFixed(2)}%</div>\n    `,t.insertBefore(l,t.children[1]),document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._navigation_75try_27 > ul > li:nth-child(1)").addEventListener("click",(()=>{setTimeout(R,500),setTimeout(G,500),setTimeout(P,500)}),{once:!0})}}function G(){if(!0===O){const e=$("ORANGUTANS COMING").parentElement.parentElement.parentElement.children[1].children[1].children[1].children[1].firstElementChild,t=e.children[0],n=e.children[1],i=t.children[0].children[0],l=n.children[0].children[0],r=i.children[1],a=l.children[1],o=r.className,s=t.children[0].children[3].children[0].children[0].children[1],c=n.children[0].children[3].children[0].children[0].children[1];if(r){let e=r.textContent.match(/\d+/),t=parseInt(e),n=a.textContent.match(/\d+/),i=parseInt(n),l=parseFloat(s.textContent),o=i/parseFloat(c.textContent)*100;k=(t/l*100).toFixed(3),x=o.toFixed(3)}if(i&&!1===D){const e=document.createElement("div");e.className=o,e.id="raffle1",e.textContent=k+"% chance per ticket",document.getElementById("raffle1")||i.appendChild(e);const t=document.createElement("div");t.className=o,t.id="raffle2",t.textContent=x+"% chance per ticket",document.getElementById("raffle2")||l.appendChild(t)}}}function j(){const e=document.querySelector("#notification-scroller > div > div").children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{U(n[t].walletId,n[t].wallet.username)}))}function U(e,t){$("Hub").click();let n=setInterval((()=>{const i=$("Player search").firstElementChild;if(i){clearInterval(n),i.click();let l=setInterval((()=>{const n=A("Player Search");if(n){clearInterval(l),Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(n,e),n.dispatchEvent(new Event("input",{bubbles:!0}));let i=setInterval((()=>{const e=document.querySelector("#player-scroller > div.infinite-scroll-component__outerdiv > div > div > div");e&&e.textContent==t&&(clearInterval(i),e.click())}),30)}}),30)}}),30)}function J(e){const t=e.className.split(" "),n=/_left/;let i=0;return t.forEach((e=>{n.test(e)&&i++})),i}function X(e){e&&e.addEventListener("click",(()=>{console.log("inside");let e=setInterval((()=>{let t;const n=document.getElementById("gang-scroller");if(n)t=n.parentElement.parentElement,console.log(t+" 1");else{const e=$("MEMBERS").parentElement.parentElement.parentElement.parentElement;t=e,console.log(t+" 2")}let i,l=$("VIEW GANG");if(l)i=l.nextElementSibling;else{let e=$("BACK").parentElement.parentElement.children[1].firstElementChild;i=e}if(l){if(t){console.log("elem1"),clearInterval(e);const n={attributes:!0,attributeFilter:["class"]};new MutationObserver(((e,n)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&2===J(t)&&V(t,i)}))})).observe(t,n)}}else{console.log("elem2"),clearInterval(e),V();const n={attributes:!0,attributeFilter:["class"]};new MutationObserver(((e,n)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&2===J(t)&&V(t)}))})).observe(t,n)}}),50)}),{once:!0})}function V(e,n){let i=setInterval((()=>{console.log(e);const l=e.children[0].children[0].children[1];if(l){let e=l.firstElementChild,r=l.children[1].className;e&&e.className!=r&&(console.log("heheeh"),l.removeChild(l.children[0])),clearInterval(i);let a=0;for(let e=0;e<l.children.length;e++){l.children[e].style.cursor="pointer",a=e,"Left"===t.memberships[e].status&&a++;let i=l.children[e],r=t.memberships[a];i.addEventListener("click",(()=>{K(r.wallet.username,r.walletId,n)}))}}}),300)}function K(e,t,n){let i=setInterval((()=>{if(n){clearInterval(i),n.click();let l=setInterval((()=>{const n=$("Hub");if(n){clearInterval(l),n.click();let i=setInterval((()=>{const n=$("Player search").firstElementChild;if(n){clearInterval(i),n.click();let l=setInterval((()=>{const n=A("Player Search");if(n){clearInterval(l),Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(n,t),n.dispatchEvent(new Event("input",{bubbles:!0}));let i=setInterval((()=>{const t=document.querySelector("#player-scroller > div.infinite-scroll-component__outerdiv > div > div > div");t&&t.textContent==e&&(clearInterval(i),t.click())}),30)}}),30)}}),30)}}),30)}}),30)}!function(){let i=setInterval((()=>{let e=$("Gangs");e&&(clearInterval(i),X(e))}),50),l=setInterval((()=>{let t=$("City"),n=$("Hub");const i=t.parentElement.children[1].className;($("Safehouse")||i.includes("_toggle--active")&&n)&&(clearInterval(l),function(){const t=$("Gangs").parentElement.children[1].firstElementChild;e=t,new MutationObserver(((e,n)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&(t.className.includes("_button--black")?M=setInterval(F,300):(q=!1,clearInterval(M)))}))})).observe(t,{attributes:!0,attributeFilter:["class"]})}(),function(){const e=document.querySelector("#root"),t=new MutationObserver(((e,t)=>{for(const t of e)if("attributes"===t.type&&"aria-hidden"===t.attributeName)if("true"===t.target.getAttribute("aria-hidden")){O=!0;let e=setInterval((()=>{const t=$("Location Stats"),n=$("Blackmarket");if(t&&(clearInterval(e),setTimeout(P,700)),n){clearInterval(e);let t=setInterval((()=>{const e=$("ORANGUTANS COMING");if(e)try{e.parentElement.parentElement.parentElement.children[1].children[1].children[1].children[1].firstElementChild.firstElementChild&&(clearInterval(t),setTimeout(R,700),setTimeout(G,700))}catch(e){}}),50)}}),100)}else{console.log("redo");const e=$("Gangs");setTimeout((()=>{X(e)}),700),O=!1}}));t.observe(e,{attributes:!0,attributeFilter:["aria-hidden"]})}())}),50),r=setInterval((()=>{let e=$("Heist Chat");if(e){clearInterval(r);const t=e.parentElement.children[0],n={attributes:!0,attributeFilter:["class"]};new MutationObserver(((e,n)=>{for(const n of e)if("attributes"===n.type&&"class"===n.attributeName){const e=t.className;e.includes("undefined"),e.includes("undefined")||H()}})).observe(t,n)}}),50),a=setInterval((()=>{$("The heist game")&&(clearInterval(a),function(){var e=window.XMLHttpRequest;window.XMLHttpRequest=function(){let i=new e;return i.onreadystatechange=function(){4==i.readyState&&200==i.status&&(/https:\/\/api\.theheist\.game\/gang\/\d+$/.test(i.responseURL)&&(t=JSON.parse(i.responseText)),i.responseURL.includes("https://api.theheist.game/notification/history?offset=0&limit=10")&&(n=JSON.parse(i.responseText)),i.responseURL.includes("https://api.theheist.game/notification/history?offset=10&limit=10")&&(function(e){let t=Object.keys(n).length;e.forEach(((e,i)=>{n[t+i]=e}))}(JSON.parse(i.responseText)),setTimeout(j,1e3)))},i};const i=$("The heist game").parentElement.children[0].children[0];new MutationObserver(((e,t)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&i.className.includes("_active")&&setTimeout(j,1e3)}))})).observe(i,{attributes:!0,attributeFilter:["class"]})}(),function(){let e=new CustomEvent("notification");const t=$("The heist game").parentElement.children[0].children[1];let n=parseFloat(t.textContent);new MutationObserver((i=>{i.forEach((i=>{"childList"!==i.type&&"characterData"!==i.type||(n=parseFloat(t.textContent),n>0&&window.dispatchEvent(e))}))})).observe(t,{childList:!0,characterData:!0,subtree:!0})}())}),50)}(),document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper.Dialog_scrollPaper__BgbbA.css-ekeie0 > div > div"),document.querySelector("body > div.MuiDialog-root.location_root__6XsDH.MuiModal-root.css-126xj0f")})();