(()=>{let e,t,n,l,i,r,c,a,s,o,d,h,m=!1,u=!1,p=!1,v=!1,f=!1;function E(e){const t=document.querySelectorAll("input[placeholder], textarea[placeholder]");for(let n of t)if(n.placeholder===e)return n;return null}function g(e){const t=document.querySelectorAll("button, h3, h2, h1, span, div, p");for(let n of t)if(n.textContent.trim()===e)return n;return null}function y(){window.addEventListener("getAdress",(function(e){if(e.detail){const t=e.detail,n=g("TRADE"),l=n.parentElement,i=n.className;if(document.getElementById("sendInvite"))document.getElementById("sendInvite").value=t;else{const e=document.createElement("button");e.id="sendInvite",e.className=i,e.textContent="Invite To Dm",e.style.marginBottom="-16px",e.value=t,l.insertBefore(e,l.firstChild)}document.getElementById("sendInvite").addEventListener("click",(()=>{localStorage.setItem("adressToInvite",t),window.postMessage({type:"openInvitePopup"},"*")}))}}))}function C(){const e=document.getElementById("chat-history-bottom-position").parentElement.children[2].children[0].children[0].children[0].parentElement.parentElement;for(let t=0;t<e.children.length;t++)e.children[t].children[0].addEventListener("click",(()=>{y()}),{once:!0})}function w(){let t=setInterval((()=>{const n=e.children[0].children[2].children[1],l=e.children[0].children[0].children[1],a=g("Amount:");if(a){clearInterval(t);const e=a.firstElementChild.firstElementChild,s=a.parentElement.children[5],o=a.parentElement,d=s.classList;if(s&&!document.getElementById("maxButton")){const e=document.createElement("button");e.classList=d,e.id="maxButton",e.textContent="Max Amount",e.style.marginBottom="10px",o.insertBefore(e,s)}if(a.parentElement.parentElement.addEventListener("click",(()=>{setTimeout(w,200)}),{once:!0}),setTimeout((()=>{r=a.parentElement.children[2].firstElementChild.firstElementChild,i=r.getAttribute("aria-label")}),100),n){let e=n.getAttribute("aria-label").match(/([\d,]+)/);e&&(c=e[1])}if(l){let e=l.getAttribute("aria-label").match(/([\d,]+)/);e&&(c=e[1])}setTimeout((()=>{if(document.getElementById("maxButton").addEventListener("click",(()=>{Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(e,c.replace(/\./g,"")),e.dispatchEvent(new Event("input",{bubbles:!0}))})),i.includes("COCO")){u=!0;let e=i.match(/(\d|,)+/)[0].replace(/,/g,".");c=e,r.textContent=c}if(i.includes("NANA")){p=!0;let e=i.match(/(\d|,)+/)[0].replace(/,/g,".");c=e,r.textContent=c}}),200)}}),100)}function _(){if(!0===v){let t=0;const n=document.querySelector("#STATS"),l=document.querySelector("#percentChimp"),i=document.querySelector("#percentTang"),r=document.querySelector("#rillaStats"),c=g("Event table");try{let a=g("My Chimps");a||(a=g("My Orangutans")),a||(a=g("My Gorillas"));const s=a.parentElement.parentElement.previousElementSibling,o=c.parentElement.parentElement.parentElement.parentElement.children[0].children[0].children[0].children[0];o&&o.addEventListener("click",(function t(){if(!m){let n=setInterval((()=>{if(g("Location Stats"))return clearInterval(n),s.removeEventListener("click",e),void _()}),50);o.removeEventListener("click",t),m=!0}}));const d=g("Location Stats").parentElement.parentElement.children[2];d.style.maxHeight="100%";const h=d.children[3].children[1],u=d.children[2].children[1],p=d.children[1].children[1],f=d.children[0].children[1],E=d.children[1].className,y=f.className,C=d.children[0].children[2].className,w=document.createElement("li"),b=document.createElement("li"),I=document.createElement("li"),x=document.createElement("li"),M=c.parentElement.children[3];for(let L=0;L<M.children.length;L++){const N=M.children[L].firstElementChild.children[1].children[2].firstElementChild;t+=parseFloat(N.textContent.replace("%",""))}if(f){const S=h.textContent,T=1e3*parseInt(S);let O=p.textContent,q=f.textContent,B=u.textContent,H=parseInt(B),$=parseInt(O),A=parseInt(q);const P=Math.round(($+A)/H),F=Math.round($/($+A)*100),R=Math.round(A/($+A)*100),G=Math.floor(T/($+A)),j=Math.round(t/100*P*G);r?r.innerHTML=`\n          <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n          <span class="${y}">${j}</span>\n          <span class="${C}">Est. Hourly $COCO per Gorilla</span>  \n    `:(w.className=E,w.id="rillaStats",w.innerHTML=`\n          <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n          <span class="${y}">${j}</span>\n          <span class="${C}">Est. Hourly $COCO per Gorilla</span>  \n    `),i?i.innerHTML=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n      <span class="${y}">${F}%</span>\n      <span class="${C}">Of Tangs</span>  \n`:(x.className=E,x.id="percentTang",x.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${y}">${F}%</span>\n        <span class="${C}">Of Tangs</span>  \n        `),l?l.innerHTML=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n      <span class="${y}">${R}%</span>\n      <span class="${C}">Of Chimps</span>  \n`:(I.className=E,I.id="percentChimp",I.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${y}">${R}%</span>\n        <span class="${C}">Of Chimps</span>  \n        `),n?n.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${y}">${G}</span>\n        <span class="${C}">Est. Hourly $COCO per TANG/CHIMP</span>\n      `:(b.className=E,b.id="STATS",b.innerHTML=`\n        <svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96" fill="none">\n        <span class="${y}">${G}</span>\n        <span class="${C}">Est. Hourly $COCO per TANG/CHIMP</span>\n      \n      `),d&&(d.appendChild(b),d.appendChild(I),d.appendChild(x),d.appendChild(w)),m=!1}const k=D("locations");function e(){setTimeout(k,100)}k(),s.addEventListener("click",e)}catch(U){console.error(U)}}}function b(){const e=document.querySelector("#root");new MutationObserver(((e,t)=>{for(const t of e)if("attributes"===t.type&&"aria-hidden"===t.attributeName)if("true"===t.target.getAttribute("aria-hidden")){v=!0;let e=setInterval((()=>{const t=g("Location Stats"),n=g("Blackmarket"),l=g("LAND POOL"),i=g("Your bid");if(t&&(clearInterval(e),setTimeout(_,700)),n){clearInterval(e);const t=g("Blackmarket").parentElement.parentElement;let n=setInterval((()=>{t.children[2]&&(clearInterval(n),I())}),50)}i&&clearInterval(e),l&&clearInterval(e)}),100)}else{const e=g("Gangs");setTimeout((()=>{q(e)}),700),v=!1}})).observe(e,{attributes:!0,attributeFilter:["aria-hidden"]})}function I(){if("hidden"!=document.body.style.overflow)return;const e=g("Blackmarket").parentElement.parentElement;try{for(let n=0;n<e.children.length;n++){const l=e.children[n];if(l.removeEventListener("click",t),l.firstElementChild.className.includes("--active")&&h!=l)h=l,x[n](),1===n&&D("vault")();else if(l.firstElementChild.className.includes("--active")&&h==l)return void setTimeout((()=>{t()}),100);l.firstElementChild.className.includes("--active")||l.addEventListener("click",t)}}catch(e){console.error(e)}function t(){for(let n=0;n<e.children.length;n++)e.children[n].removeEventListener("click",t);I()}}document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper.Dialog_scrollPaper__BgbbA.css-ekeie0 > div > div"),document.querySelector("body > div.MuiDialog-root.location_root__6XsDH.MuiModal-root.css-126xj0f"),function(){let i=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){this.addEventListener("load",(function(){if(this.responseURL.includes("https://api.theheist.game/nft/my-robbers")&&200===this.status){!function(){let i=setInterval((()=>{let e=g("Gangs");e&&(clearInterval(i),q(e))}),50),r=setInterval((()=>{let t=g("City");if(g("Hub"),t){const n=t.parentElement.children[1];n&&(n.className.includes("_toggle--active")||D(),b(),function(){const t=g("Gangs").parentElement.children[1].firstElementChild;e=t;new MutationObserver(((e,n)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&(t.className.includes("_button--black")?w():withdrawClick=!1)}))})).observe(t,{attributes:!0,attributeFilter:["class"]})}(),clearInterval(r),n.addEventListener("click",(()=>{let e=setInterval((()=>{let t=g("Safehouse");!n.className.includes("_toggle--active")&&t?(clearInterval(e),D(),b()):n.className.includes("_toggle--active")&&clearInterval(e)}),50)})))}}),50),c=setInterval((()=>{let e=g("Heist Chat");if(e){clearInterval(c);const t=e.parentElement.children[0],n={attributes:!0,attributeFilter:["class"]};new MutationObserver(((e,n)=>{for(const n of e)"attributes"===n.type&&"class"===n.attributeName&&(t.className.includes("undefined")||C())})).observe(t,n)}}),50),a=setInterval((()=>{g("The heist game")&&(clearInterval(a),function(){var e=window.XMLHttpRequest;window.XMLHttpRequest=function(){let i=new e;return i.onreadystatechange=function(){if(4==i.readyState&&200==i.status&&(/https:\/\/api\.theheist\.game\/gang\/\d+$/.test(i.responseURL)&&(t=JSON.parse(i.responseText)),i.responseURL.includes("https://api.theheist.game/notification/history?offset=0&limit=10")&&(n=JSON.parse(i.responseText)),i.responseURL.includes("https://api.theheist.game/notification/history?offset=10&limit=10")&&(function(e){let t=Object.keys(n).length;e.forEach(((e,l)=>{n[t+l]=e}))}(JSON.parse(i.responseText)),setTimeout(S,1e3)),i.responseURL.includes("https://api.theheist.game/auth/me"))){let e=JSON.parse(i.responseText);l=e.id}},i};const i=g("The heist game").parentElement.children[0].children[0];new MutationObserver(((e,t)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&i.className.includes("_active")&&setTimeout(S,1e3)}))})).observe(i,{attributes:!0,attributeFilter:["class"]})}(),function(){let e=new CustomEvent("notification");const t=g("The heist game").parentElement.children[0].children[1];let n=parseFloat(t.textContent);new MutationObserver((l=>{l.forEach((l=>{"childList"!==l.type&&"characterxhrNotificationData"!==l.type||(n=parseFloat(t.textContent),n>0&&window.dispatchEvent(e))}))})).observe(t,{childList:!0,characterxhrNotificationData:!0,subtree:!0})}())}),50)}();const i=g("The heist game").parentElement,r=document.createElement("h2");r.style.color="#fff",r.textContent="supervised",i.appendChild(r)}})),i.apply(this,arguments)}}();const x=[function(){console.log("social");let e=setInterval((()=>{const t=g("ORANGUTANS COMING");if(t)try{const n=t.parentElement.parentElement.parentElement.children[1].children[1].children[1].children[1];n&&n.firstElementChild.firstElementChild&&(clearInterval(e),setTimeout(L,700),setTimeout(N,700))}catch(e){console.error(e)}}),50)},k,function(){console.log("market")},function(){console.log("bm")},function(){console.log("reward")},function(){console.log("cosmetic")},function(){}];function M(){k()}function k(){console.log("restart");let e=setInterval((()=>{const t=g("Show Info").parentElement.nextElementSibling;if("hidden"==document.body.style.overflow&&t){const l=t.children[1];if(l){const i=t.firstElementChild.firstElementChild.children[1];if(i){clearInterval(e),i.removeEventListener("click",M),i.addEventListener("click",M);try{for(let r=0;r<l.children.length&&0!=l.children.length;r++){l.children[r].firstElementChild.children[2].firstElementChild.addEventListener("click",n)}}catch(c){console.error(c)}function n(){for(let e=0;e<l.children.length;e++)l.children[e].removeEventListener("click",n);let e=setInterval((()=>{const t=g("Each Point Increases yield");if(t){clearInterval(e);const n=t.parentElement.parentElement.parentElement.parentElement;for(let e=0;e<n.children.length;e++){if(document.getElementById("maxBtn"+e)||n.children[e].className.includes("prestige"))continue;const t=n.children[e],l=t.children[1],i=l.children[2].children[1].className,r=document.createElement("button");r.id="maxBtn"+e,r.className=i,r.textContent="MAX",r.style.width="153px",l.insertBefore(r,l.children[3]),document.getElementById("maxBtn"+[e]).addEventListener("click",(()=>{let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"),n=t.children[1].children[2].firstElementChild.children[1];e.set.call(n,99),n.dispatchEvent(new Event("input",{bubbles:!0}))}))}}}),50)}}}}}),100);console.log("vault")}function L(){let e;const t=document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._socialContent_1tyqk_1._tabContent_75try_15 > div._main_1tyqk_169 > div._mainContent_1tyqk_241 > div._mainContentRight_1tyqk_249 > div._mintContent_1tyqk_258 > div._mintContentFooter_1tyqk_308");if(t){const n=document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._socialContent_1tyqk_1._tabContent_75try_15 > div._main_1tyqk_169 > div._mainContent_1tyqk_241 > div._mainContentRight_1tyqk_249 > div._mintContent_1tyqk_258 > div._mintContentFooter_1tyqk_308 > div:nth-child(1) > div"),l=document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._socialContent_1tyqk_1._tabContent_75try_15 > div._main_1tyqk_169 > div._mainContent_1tyqk_241 > div._mainContentRight_1tyqk_249 > div._mintContent_1tyqk_258 > div._mintContentHeader_1tyqk_287 > div:nth-child(2) > div");e=parseFloat(l.textContent)/parseFloat(n.textContent)*100;const i=document.createElement("div");i.className="_mintContentHeaderStat_1tyqk_337",i.innerHTML=`\n    <p class="_mintContentLabel_1tyqk_378">chance per contract</p>\n    <div class="_mintContentHeaderStatValue_1tyqk_398">${e.toFixed(2)}%</div>\n    `,t.insertBefore(i,t.children[1]),document.querySelector("body > div.MuiDialog-root.MuiModal-root.css-126xj0f > div.MuiDialog-container.MuiDialog-scrollPaper._scrollPaper_gnyli_18.css-ekeie0 > div > div._navigation_75try_27 > ul > li:nth-child(1)").addEventListener("click",(()=>{setTimeout(L,500),setTimeout(N,500),setTimeout(_,500)}),{once:!0})}}function N(){if(!0===v){const e=g("ORANGUTANS COMING").parentElement.parentElement.parentElement.children[1].children[1].children[1].children[1].firstElementChild,t=e.children[0],n=e.children[1],l=t.children[0].children[0],i=n.children[0].children[0],r=l.children[1],c=i.children[1],o=r.className,d=t.children[0].children[3].children[0].children[0].children[1],h=n.children[0].children[3].children[0].children[0].children[1];if(r){let e=r.textContent.match(/\d+/),t=parseInt(e),n=c.textContent.match(/\d+/),l=parseInt(n),i=parseFloat(d.textContent),o=l/parseFloat(h.textContent)*100;a=(t/i*100).toFixed(3),s=o.toFixed(3)}if(l&&!1===f){const e=document.createElement("div");e.className=o,e.id="raffle1",e.textContent=a+"% chance per ticket",document.getElementById("raffle1")||l.appendChild(e);const t=document.createElement("div");t.className=o,t.id="raffle2",t.textContent=s+"% chance per ticket",document.getElementById("raffle2")||i.appendChild(t)}}}function S(){const e=document.querySelector("#notification-scroller > div > div").children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{T(n[t].walletId,n[t].wallet.username)}))}function T(e,t){g("Hub").click();let n=setInterval((()=>{const l=g("Social");if(l){clearInterval(n),l.click();let i=setInterval((()=>{const n=g("Player search").firstElementChild;if(n){clearInterval(i),n.click();let l=setInterval((()=>{const n=E("Player Search");if(n){clearInterval(l),Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(n,e),n.dispatchEvent(new Event("input",{bubbles:!0}));let i=setInterval((()=>{const e=document.querySelector("#player-scroller > div.infinite-scroll-component__outerdiv > div > div > div");e&&e.textContent==t&&(clearInterval(i),e.click(),y())}),30)}}),30)}}),30)}}),30)}function O(e){const t=e.className.split(" "),n=/_left/;let l=0;return t.forEach((e=>{n.test(e)&&l++})),l}function q(e){e&&e.addEventListener("click",(()=>{let e=setInterval((()=>{let t;const n=document.getElementById("gang-scroller"),l=g("MEMBERS");let i;if(n)i=g("VIEW GANG").nextElementSibling,t=n.parentElement.parentElement;else if(l){let e=g("BACK").parentElement.parentElement.children[1].firstElementChild;i=e,t=l.parentElement.parentElement.parentElement.parentElement}if(l){clearInterval(e),B(t,i);const n={attributes:!0,attributeFilter:["class"]};new MutationObserver(((e,n)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&2===O(t)&&B(t,i)}))})).observe(t,n)}else if(n){clearInterval(e);const n={attributes:!0,attributeFilter:["class"]};new MutationObserver(((e,n)=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&2===O(t)&&B(t,i)}))})).observe(t,n)}}),50)}),{once:!0})}function B(e,n){let l=setInterval((()=>{const i=e.children[0].children[0].children[1];if(i){let e=i.firstElementChild,r=i.children[1].className;e&&e.className!=r&&i.removeChild(i.children[0]),clearInterval(l);let c=0;for(let e=0;e<i.children.length;e++){i.children[e].style.cursor="pointer",c=e,"Left"===t.memberships[e].status&&c++;let l=i.children[e],r=t.memberships[c];l.addEventListener("click",(()=>{H(r.wallet.username,r.walletId,n)}))}}}),300)}function H(e,t,n){let l=setInterval((()=>{if(n){clearInterval(l),n.click();let i=setInterval((()=>{const n=g("Hub");if(n){clearInterval(i),n.click();let l=setInterval((()=>{const n=g("Social");if(n){clearInterval(l),n.click();let i=setInterval((()=>{const n=g("Player search").firstElementChild;if(n){clearInterval(i),n.click();let l=setInterval((()=>{const n=E("Player Search");if(n){clearInterval(l),Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(n,t),n.dispatchEvent(new Event("input",{bubbles:!0}));let i=setInterval((()=>{const t=document.querySelector("#player-scroller > div.infinite-scroll-component__outerdiv > div > div > div");t&&t.textContent==e&&(clearInterval(i),t.click(),y())}),30)}}),30)}}),30)}}),30)}}),30)}}),30)}let $;function D(e){let t=new CustomEvent("ready");window.dispatchEvent(t);try{if($||($=function(){let e;return function(t){if(void 0===t||"boolean"!=typeof t){if(e){if("locations"==t)return function(){!function(){try{if(o){let e=0,t=0,n=0;for(let n=0;n<o.length;n++){let l=o[n].species;"Orangutan"===l&&t++,"Chimp"===l&&e++}if(d.length>0)for(let e=0;e<d.length;e++)n++;let l=g("My Chimps");l||(l=g("My Orangutans")),l||(l=g("My Gorillas"));const i=l.nextElementSibling.firstElementChild,r=i.children[0],c=i.children[1],a=i.children[2],s=parseFloat(r.children[1].textContent),h=parseFloat(c.children[1].textContent),m=parseFloat(a.children[1].textContent),u=Math.max(s,m,h);if(u===s)return;u===m&&a.click(),u===h&&c.click()}}catch(e){console.error(e)}}()};if("vault"==t)return function(){!function(){try{if(o){const e=g("Show Info").parentElement.nextElementSibling,t=e.firstElementChild.children[0].children[1].children[1],n=e.firstElementChild.children[0].children[1].children[2];let l=0,i=0,r=0;for(let e=0;e<o.length;e++){let t=o[e].species;"Orangutan"===t&&i++,"Chimp"===t&&l++}if(d.length>0)for(let e=0;e<d.length;e++)r++;const c=Math.max(l,i,r);c===i&&t.click(),c===r&&n.click()}}catch(e){console.error(e)}}()}}}else e=t}}()),"locations"===e||"vault"===e)return $(e);let t=[function(){let e=setInterval((()=>{const t=g("Police Station");if(t){const n=t.parentElement.children[1].className;n&&(clearInterval(e),document.querySelectorAll("."+n).forEach((function(e){e.parentNode.removeChild(e)})))}}),500)},$,function(){}];window.addEventListener("miscOptions",(function(e){e.detail.forEach(((e,n)=>{1==e&&t[n](!0)}))}),{once:!0})}catch(e){console.error(e)}}var A=window.XMLHttpRequest;window.XMLHttpRequest=function(){let e=new A;return e.onreadystatechange=function(){4==e.readyState&&200==e.status&&(e.responseURL.includes("https://api.theheist.game/nft/my-robbers")&&(o=JSON.parse(e.responseText)),e.responseURL.includes("https://api.theheist.game/nft/my-cops")&&(d=JSON.parse(e.responseText)))},e}})();