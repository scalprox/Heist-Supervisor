(()=>{let e=new Audio(chrome.runtime.getURL("app/assets/notif.mp3")),t=!1;const n=document.createElement("meta");if(n.httpEquiv="Content-Security-Policy",n.content="script-src 'self'; object-src 'self'",window.location.href.includes("https://theheist.game/")){chrome.runtime.onMessage.addListener((function(e,a,o){if("userAuth"===e.type&&!1===t&&(t=!0,document.querySelector("head"))){document.head.appendChild(n);const e=document.createElement("script");e.src=chrome.runtime.getURL("dist/bundleHeistSupervisor.js"),document.head.appendChild(e),document.head.appendChild(s)}if("adressFromBack"===e.type){let t=new CustomEvent("getAdress",{detail:e.adress});window.dispatchEvent(t)}})),window.addEventListener("message",(function(e){if(e.source==window)if(e.data.type&&"openInvitePopup"==e.data.type){chrome.runtime.sendMessage({action:"openNotifHTML"});let e=localStorage.getItem("adressToInvite");e&&this.setTimeout((()=>{chrome.runtime.sendMessage({type:"walletAdress",data:e})}),500)}else if(e.data.type&&"firebaseUserData"==e.data.type){const t=e.data.userData.uid,n=e.data.userData.hash;chrome.storage.local.set({uid:t}),chrome.storage.local.set({hash:n})}}),!1),window.addEventListener("notification",(function(t){setTimeout((()=>{e.play()}),600)}));const s=document.createElement("style");s.textContent="\n::-webkit-scrollbar {\n  width: 5px; \n  height: 100%; \n}\n::-webkit-scrollbar-thumb {\n  background: #999999; \n  border-radius: 6px; \n}\n::-webkit-scrollbar-thumb:hover {\n  background: #535151;\n}\n::-webkit-scrollbar-track {\n  background: #fff; \n  border-radius: 6px; \n}\n::-webkit-scrollbar-button {\n  display: none;\n}\n",window.addEventListener("ready",(function(){try{chrome.storage.sync.get(null,(function(e){let t=Object.keys(e),n=[];for(let s=0;s<t.length;s++)n.push(e["switchState"+s]);let s=new CustomEvent("miscOptions",{detail:n});window.dispatchEvent(s)}))}catch(e){console.error(e)}}))}else if((window.location.href.startsWith("http://127.0.0.1:")||window.location.href.includes("https://heist-supervisor.firebaseapp.com/"))&&(window.addEventListener("message",(function(e){if(e.source==window&&e.data.type&&"firebaseUserData"==e.data.type){const{uid:t,hash:n,publicAdress:s}=e.data.userData;chrome.storage.local.set({uid:t}),chrome.storage.local.set({hash:n}),chrome.storage.local.set({publicAdress:s})}}),!1),document.querySelector("head"))){document.head.appendChild(n);const e=document.createElement("script");e.src=chrome.runtime.getURL("dist/bundlegetDataFromWEB.js"),document.head.appendChild(e)}})();